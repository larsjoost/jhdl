#!/bin/bash

ALL_ARGUMENTS=$@

SCRIPT=$(realpath $0)
SCRIPTPATH=$(dirname $SCRIPT)

function error {
    local message=$1
    echo "[ERROR] $SCRIPT: $message" 1>&2
}

usage()
{
    cat << EOF
Command: $0 $ALL_ARGUMENTS

Makes the binaries
	  
usage: $0 options [FILE]

OPTIONS:
   -h           Show this message
   -d <path>    Directory
   -l <name>    Library name
   -x           Debug
   -v           Verbose 
EOF
}

DIR="./"

while getopts ":hd:l:v" OPTION
do
    case $OPTION in
        h)
            usage
            exit 0
            ;;
        l)
            LIBRARY="-l $OPTARG"
            ;;
        d)
            DIR="$OPTARG"
            ;;
        v)
            VERBOSE="-v"
	    set -x
            ;;
        ?)
            echo "Unknown option $OPTARG"
            usage
            exit 1
            ;;
        :)
            echo "No argument value for option $OPTARG"
            usage
            exit 1
            ;;
    esac
done

shift "$((OPTIND-1))"

for i in "$@"; do
    files="$files $(find $DIR -name $i)"
done

cd cmake

cmake ../

